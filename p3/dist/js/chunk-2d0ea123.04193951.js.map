{"version":3,"sources":["webpack:///./src/components/pages/AccountPage.vue","webpack:///./src/components/pages/AccountPage.vue?b3b5"],"names":["id","data-test","href","user","name","logout","type","data","email","password","login","errors","error","index","class","key","favorites","computed","this","$store","state","methods","post","then","response","authenticated","commit","success","watch","mounted","render"],"mappings":"sJACSA,GAAG,gB,aAEIC,YAAU,mB,EAEd,eAAwE,KAArEC,KAAK,cAAcD,YAAU,mBAAkB,sBAAkB,G,EAAI,eAAI,mB,SAMpED,GAAG,a,EACX,eAAc,UAAV,SAAK,G,iBAEE,Y,iBAMA,e,YAYX,eAAwE,U,eAArE,+BAA2B,eAAsC,KAAnCE,KAAK,aAAY,oB,mDA/B1D,eAiCM,MAjCN,EAiCM,CAhCS,EAAAC,M,iBAAX,eAOM,SANF,eAAyD,KAAzD,EAAgC,OAAI,eAAG,EAAAA,KAAKC,MAAO,IAAC,GAEpD,EAAwE,EAGxE,eAAqE,UAAxD,QAAK,8BAAE,EAAAC,QAAA,EAAAA,OAAA,qBAAQJ,YAAU,iBAAgB,c,iBAG1D,eAsBM,MAtBN,EAsBM,CArBF,EACA,eAKM,YAJF,eAGQ,c,iBADJ,eAA2D,SAApDK,KAAK,O,qDAAgB,EAAAC,KAAKC,MAAK,IAAEP,YAAU,S,mBAAtB,EAAAM,KAAKC,aAGzC,eAKM,YAJF,eAGQ,c,iBADJ,eAAsE,SAA/DF,KAAK,W,qDAAoB,EAAAC,KAAKE,SAAQ,IAAER,YAAU,Y,mBAAzB,EAAAM,KAAKE,gBAI7C,eAAkE,UAArD,QAAK,8BAAE,EAAAC,OAAA,EAAAA,MAAA,qBAAOT,YAAU,gBAAe,SAC1C,EAAAU,Q,iBAAV,eAIK,S,mBAHD,eAEK,2BAFsC,EAAAA,QAAM,SAAvBC,EAAOC,G,wBAAjC,eAEK,MAFDC,MAAM,QAA0CC,IAAKF,G,eAClDD,GAAK,M,+BAGhB,O,gBAQG,GACXL,KADW,WAEP,MAAO,CAGHA,KAAM,CACFC,MAAO,KACPC,SAAU,MAEdE,OAAQ,KACRK,UAAW,KAGnBC,SAAU,CACNd,KADM,WAEF,OAAOe,KAAKC,OAAOC,MAAMjB,OAGjCkB,QAAS,CACLX,MADK,WACG,WACJ,OAAMY,KAAK,QAASJ,KAAKX,MAAMgB,MAAK,SAACC,GAC7BA,EAASjB,KAAKkB,cACd,EAAKN,OAAOO,OAAO,UAAWF,EAASjB,KAAKJ,MAE5C,EAAKQ,OAASa,EAASjB,KAAKI,WAIxCN,OAVK,WAUI,WACL,OAAMiB,KAAK,UAAUC,MAAK,SAACC,GACnBA,EAASjB,KAAKoB,SACd,EAAKR,OAAOO,OAAO,UAAW,WAK9CE,MAAO,GAEPC,QAtCW,WAuCPX,KAAKf,OC5Eb,EAAO2B,OAASA,EAED","file":"js/chunk-2d0ea123.04193951.js","sourcesContent":["<template>\n    <div id=\"account-page\">\n        <div v-if=\"user\">\n            <h2 data-test=\"welcome-message\">Hi, {{ user.name }}!</h2>\n\n            <a href=\"/selections\" data-test='view-selections'>View my selections</a><br>\n        \n\n            <button v-on:click=\"logout\" data-test=\"logout-button\">Logout</button>\n        </div>\n\n        <div v-else id=\"loginForm\">\n            <h2>Login</h2>\n            <div>\n                <label>\n                    Email:\n                    <input type=\"text\" v-model=\"data.email\" data-test=\"email\"/>\n                </label>\n            </div>\n            <div>\n                <label>\n                    Password:\n                    <input type=\"password\" v-model=\"data.password\" data-test=\"password\" />\n                </label>\n            </div>\n\n            <button v-on:click=\"login\" data-test=\"login-button\">Login</button>\n            <ul v-if=\"errors\">\n                <li class=\"error\" v-for=\"(error, index) in errors\" :key=\"index\">\n                    {{ error }}\n                </li>\n            </ul>\n            <p>Don't have an account yet? <a href=\"/register\">Register here!</a></p>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { axios } from \"@/common/app.js\";\n\nexport default {\n    data() {\n        return {\n            // Form is prefilled for demonstration purposes; remove in final application\n            // jill@harvard.edu/asdfasdf is one of our seed users from e28api/seeds/user.json\n            data: {\n                email: null,\n                password: null,\n            },\n            errors: null,\n            favorites: [],\n        };\n    },\n    computed: {\n        user() {\n            return this.$store.state.user;\n        }\n    },\n    methods: {\n        login() {\n            axios.post(\"login\", this.data).then((response) => {\n                if (response.data.authenticated) {\n                    this.$store.commit(\"setUser\", response.data.user);\n                } else {\n                    this.errors = response.data.errors;\n                }\n            });\n        },\n        logout() {\n            axios.post(\"logout\").then((response) => {\n                if (response.data.success) {\n                    this.$store.commit(\"setUser\", null);\n                }\n            });\n        },\n    },\n    watch: {\n    },\n    mounted(){\n        this.user;\n    }\n};\n</script>","import { render } from \"./AccountPage.vue?vue&type=template&id=8707865c\"\nimport script from \"./AccountPage.vue?vue&type=script&lang=js\"\nexport * from \"./AccountPage.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}